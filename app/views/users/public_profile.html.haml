.form-heading
  - user_name = @user.public_profile.nil? ? @user.public_profile.first_name.capitalize : @user.email.split('@')[0].capitalize
  %h2=current_user == @user ? 'My Profile' : "#{user_name}'s Profile"
- if current_user.can_change_role_and_status?(@user)
  = render partial: "update_status"
%div.tabbable
  %ul.nav.nav-tabs
    %li.public-tab{class: ('active' if (@current_tab_pane == "public_profile" || @current_tab_pane.blank? ))}
      %a{data: {toggle: 'tab'}, href: '#public'}
        Public Profile
    %li.private-tab{class: ('active' if (@current_tab_pane == "private_profile"))}
      %a{data: {toggle: 'tab'}, href: '#private'}
        Personal Details
    - if can? :edit, User
      %li.emp-details-tab{class: ('active' if (@current_tab_pane == "employee_detail"))}
        %a{data: {toggle: 'tab'}, href: '#emp-details'}
          Employee details
    - if DOCUMENT_MANAGEMENT.include?(current_user.role) || current_user == @user
      %li.document-tab
        %a{data: {toggle: 'tab'}, href: '#document', class: ('active' if (@current_tab_pane == "document"))}
          Documents

  .tab-content
    .tab-pane.active#public{class: ('active' if (@current_tab_pane == "public_profile" || @current_tab_pane.blank? ))}
      = render partial: 'public_profile'
    .tab-pane#private{class: ('active' if (@current_tab_pane == "private_profile"))}
      = render partial: 'private_profile'
    .tab-pane#emp-details{class: ('active' if (@current_tab_pane == "employee_detail"))}
      = render partial: 'employee_detail'
    .tab-pane#document{class: ('active' if (@current_tab_pane == "document"))}
      = render partial: 'document'

:javascript
  error = #{!@private_profile.errors.full_messages.empty?}
  if(error){
    $('.private-tab a').click();
  }
